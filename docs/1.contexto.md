# PilotoDeVendas.IA - Contexto Técnico

## Contexto Geral

Estou desenvolvendo uma aplicação chamada PilotoDeVendas.IA,.

Essa aplicação é voltada a pequenos e médios empresários, e sua missão é, usando IA via Whatsapp, qualifiacar leads na etapa de pré-vendas (SDR) e dar apoio na etapa de vendas de fato.

A plataforma pode operar no modo "piloto", que é quando assume a negociacao ou no modo "copiloto", que é quando auxilia em tempo real o vendedor com sugestoes de respostas.

O PilotoDeVendas.IA é capaz de:

- sincronizar em tempo real a negociacao com o CRM da empresa (seja qual for)
- consultar procedimentos e base de dados da empresa para embasar suas respostas
- entendner e responder áudio, inclusive clonando a voz dos sócios ou vendedores
- interpretar imagens, pdf, docx etc
- seguir régua de followup (customizavel) qd lead não responde
- delegar para vendedor humano em caso de duvida. E o melhor: a aplicação aprende com as duvidas que solicita, de forma que não mais pergunta ao vendedor!
- gerar dashboards com métricas importantes de performance do piloto
- auditar atendimentos dos vendedores humanos com objetivo de classifica-los bem como de extrair insights para embasar os proximos atendimentos automaticos do piloto
- integrar com centenas de outras ferramentas (ex: GCalendar par eventos, envio de email etc)

## O que já temos feito hoje

### Features

Hoje, temos um MVP funcional que é apenas o backend que recebe mensagens de whatsapp, processa (texto/audio/img/pdf faz RAG) com LLM e responde (via api nao oficial (Z-API, plu and play, servico externo)).

A sincronização dos leads com CRM é feita por meio de uma chamada em webhooks no Make, e esses endpoints estão configurados nas tools que o agente usa. 

### Tech Stack

- BACKEND - API Restful e async, com as seguintes tecnologias:
  - python 3.12
  - FastAPI (async)
  - Langchain/Langgraph para gerenciar fluxos de LLMs, RAG, prompts, chains etc.
  - SQLAlchemy para ORM
  - Base de dados: Postgres (CloudSQL na GCP)
  - para receber e enviar msgs de/para o Whatsapp: tanto canal nao-oficial (Z-API ou container com EvolutionApi) como oficial (WABA)

- FRONTEND: Nada

- GCP: CloudRun, CloudSQL, GTasks, Terraform etc.

## Planos para o futuro próximo

### Features

**Curto Prazo (em 2 meses)**

Criar o frontend da aplicação. Nele, o nosso cliente poderá:
- Fazer login com o clássico e-mail+senha definidos na etapa de signup Ou usar login via Google (OAuth2)
- configurar seus agentes (prompts, tools, followup etc)
- Na parte de RAG, ele poderá tanto subir arquivos diretamente (TXT, PDF, etc.) quanto conectar em pastas específicas no seu Google Drive. 
- acompanhar dashboards de performance


**Médio Prazo (em 4 meses)**

- meu cliente gerenciará usuários (vendedores, admins etc)
- seus vendedores humanos poderão fazer seus atendimentos em uma tela muito similar ao Whatsapp Web (internamente a app pode usar tanto a api oficial como a nao-oficial (um container Evolution no meu GCP), mas o vendedor não precisa saber disso)
- Modo copiloto: fazendo análise em tempo real dos atendimentos e sugerindo respostas e procedimentos. 
- acompanhar logs de atendimentos dos seus vendedores
- gerenciar assinaturas e pagamentos (via Stripe)
- Integrar com alguns dos CRMs mais utilizados no mercado, bem como com aplicativos clássicos como o Google Calendar. 

### Tech Stack

Além do que já existe hoje, teremos que principalmente adicionar o frontend.

O que já temos definido é que usaremos React. 

Mas temos de definir se usamos Vite ou NextJS, pricipalmente levando em conta questao:
  - de gerenciamento de autenticacao: tanto pra email/senha como OAuth (Google). Sempre usando Cooke Http only.
  - outras questoes como BFF (usa ou nao?), JWT vs Session ID (uo hibrido), CORS etc

## Contexto

- Experiência com tech stack atual: 
  - **Python**: muito alta
  - **node/TS**: básico
  - **React**: muito básico
  - OBS: não Não temos problemas em nos capacitar nessas tecnologias que dominamos menos. Apenas precisamos levar em conta a questão de tempo e de custo-benefício. 
- equipe:
  - 1 dev (eu). Em 3 meses, devo contratar mais um fullstack jr.
  - todo dev usa/usará Claude Code MAX, ou seja, praticamente ilimitado o acesso a IA para ajudar no desenvolvimento. Isso acelera muito o desenvolvimento, inclusive dando conta das tecnologias que dominamos menos.
- diretrizes
  - KISS: Keep It Simple Stupid
  - Temos como objetivo entregar um MVP operacional para os nossos clientes logarem e configurarem seus agentes em dois meses. 
  - Quando o assunto é infra, prezamos por soluções mais versáteis, que exija menos trabalho/tempo direcionado pra esse "ops" do "dev-ops", mesmo que custe um pouco mais financeiramente. 
- Outros: 
  - nossa app não precisa de SEO, pois é uma aplicação interna (dashboard, configuração etc)
  - como nosso MVP já ta rodando em python + FastAPI no CloudRun (conforme descrito acima), tendemos a querer manter toda essa parte de LLM,RAG, get/send WhatsApp messages etc em python. Bem como, a priori, o "dono" (Source of Truth) do banco de dados (Postgres) também será o backend em python.

## Sua missão

Você é um especialista nas tecnologias e estratégias que passei no contexto e me ajudará a traçar decisões para os nossos "Planos para o futuro próximo".

Se preciso pesquisar algo, leve em conta que estamos em Novembro de 2025.

A menos que eu diga o contrário, siga as orientações abaixo:
- Seja sucinto. Pode explorar perspecitivas diferentes, mas não seja prolixo.
- Seja sempre sincero e imparcial, jamais responda o que eu quero ouvir se for diferente da verdade técnica.
- Faça o balanço ideal entre
  - KISS: Keep It Simple Stupid
  - Boas práticas de mercado
  - Na dúvida, tendo a priorizar o KISS, mas me consulta em caso de dúvida aqui.